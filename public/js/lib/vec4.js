!function(n,r,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n[r]=n[r]||t()}(this,"vec4",function(){"use strict";var n={};return n.array=Float32Array||Array,n.buffer=new n.array(4),n.get=function(r,t,e,u){return n.set(new n.array(4),r,t,e,u)},n.set=function(r,t,e,u,f){return r||(r=new n.array(4)),"object"==typeof t?(r[0]=-1/0<t[0]&&t[0]<1/0?t[0]:0,r[1]=-1/0<t[1]&&t[1]<1/0?t[1]:0,r[2]=-1/0<t[2]&&t[2]<1/0?t[2]:0,r[3]=-1/0<t[3]&&t[3]<1/0?t[3]:1):(r[0]=t>-1/0&&1/0>t?t:0,r[1]=e>-1/0&&1/0>e?e:0,r[2]=u>-1/0&&1/0>u?u:0,r[3]=f>-1/0&&1/0>f?f:1),r},n.equals=function(n,r){return n===r?!0:"object"==typeof r?n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]:n[0]===r&&n[1]===r&&n[2]===r},n.add=function(r,t,e){return e||(e=new n.array(4)),"object"==typeof t?(e[0]=r[0]+t[0],e[1]=r[1]+t[1],e[2]=r[2]+t[2]):(e[0]=r[0]+t,e[1]=r[1]+t,e[2]=r[2]+t),e[3]=r[3],e},n.sub=function(r,t,e){return e||(e=new n.array(4)),"object"==typeof t?(e[0]=r[0]-t[0],e[1]=r[1]-t[1],e[2]=r[2]-t[2]):(e[0]=r[0]-t,e[1]=r[1]-t,e[2]=r[2]-t),e[3]=r[3],e},n.mul=function(r,t,e){return e||(e=new n.array(4)),"object"==typeof t?(e[0]=r[0]*t[0],e[1]=r[1]*t[1],e[2]=r[2]*t[2]):(e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t),e[3]=r[3],e},n.div=function(r,t,e){return e||(e=new n.array(4)),"object"==typeof t?(e[0]=r[0]/t[0],e[1]=r[1]/t[1],e[2]=r[2]/t[2]):(e[0]=r[0]/t,e[1]=r[1]/t,e[2]=r[2]/t),e[3]=r[3],e},n.mod=function(r,t,e){return e||(e=new n.array(4)),"object"==typeof t?(e[0]=r[0]%t[0],e[1]=r[1]%t[1],e[2]=r[2]%t[2]):(e[0]=r[0]%t,e[1]=r[1]%t,e[2]=r[2]%t),e[3]=r[3],e},n.min=function(r,t,e){return"undefined"==typeof t?Math.min(r[0],r[1],r[2]):(e||(e=new n.array(4)),"object"==typeof t?(e[0]=r[0]<t[0]?t[0]:r[0],e[1]=r[1]<t[1]?t[1]:r[1],e[2]=r[2]<t[2]?t[2]:r[2]):(e[0]=r[0]<t?t:r[0],e[1]=r[1]<t?t:r[1],e[2]=r[2]<t?t:r[2]),e[3]=r[3],e)},n.max=function(r,t,e){return"undefined"==typeof t?Math.max(r[0],r[1],r[2]):(e||(e=new n.array(4)),"object"==typeof t?(e[0]=r[0]>t[0]?t[0]:r[0],e[1]=r[1]>t[1]?t[1]:r[1],e[2]=r[2]>t[2]?t[2]:r[2]):(e[0]=r[0]>t?t:r[0],e[1]=r[1]>t?t:r[1],e[2]=r[2]>t?t:r[2]),e[3]=r[3],e)},n.clamp=function(r,t,e,u){return n.max(n.min(r,t,n.buffer),e,u)},n.sum=function(n){return n[0]+n[1]+n[2]},n.dot=function(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]},n.cross=function(r,t,e){return e||(e=new n.array(4)),e[0]=r[1]*t[2]-r[2]*t[1],e[1]=r[2]*t[0]-r[0]*t[2],e[2]=r[0]*t[1]-r[1]*t[0],e[3]=1,e},n.unit=function(r,t){var e=Math.sqrt(n.dot(r,r));return n.mul(r,e?1/e:0,t)},n.length=function(r,t,e){var u=Math.sqrt(n.dot(r,r));return"undefined"==typeof t?u:n.mul(r,u?t/u:0,e)},n.length2=function(r,t,e){var u=n.dot(r,r);return"undefined"==typeof t?u:n.mul(r,u?t/u:0,e)},n.distance=function(r,t){return n.length(n.sub(t,r,n.buffer))},n.distance2=function(r,t){return n.dot(n.sub(t,r,n.buffer),n.buffer)},n.lerp=function(r,t,e,u){return n.sub(t,r,n.buffer),n.mul(n.buffer,e,n.buffer),n.add(r,n.buffer,u)},n.project=function(r,t,e){return n.mul(t,n.dot(r,t)/n.dot(t,t),e)},n.mirror=function(r,t,e){return n.mul(t,2*n.dot(r,t),n.buffer),n.sub(n.buffer,r,e)},n.reflect=function(r,t,e){return n.mul(t,2*n.dot(r,t),n.buffer),n.sub(r,n.buffer,e)},n.random=function(r,t){t||(t=new n.array(4)),"undefined"==typeof r&&(r=1);var e=Math.acos(2*Math.random()-1),u=Math.random()*Math.PI*2;return t[0]=r*Math.sin(e)*Math.cos(u),t[1]=r*Math.sin(e)*Math.sin(u),t[2]=r*Math.cos(e),t[3]=1,t},n.each=function(r,t,e){return e||(e=new n.array(4)),e[0]=t(r[0],0),e[1]=t(r[1],1),e[2]=t(r[2],2),e[3]=r[3],e},n.transform=function(r,t,e){e||(e=new n.array(4));var u=r[0],f=r[1],o=r[2],a=r[3];return e[0]=u*t[0]+f*t[1]+o*t[2]+a*t[3],e[1]=u*t[4]+f*t[5]+o*t[6]+a*t[7],e[2]=u*t[8]+f*t[9]+o*t[10]+a*t[11],e[3]=u*t[12]+f*t[13]+o*t[14]+a*t[15],e},n});